<!DOCTYPE html>
<html>
	<head>
		<meta name="renderer" content="webkit">
	    <meta charset="UTF-8">
	    <meta name="viewport" content="width=device-width,height=device-height,initial-scale=1,minimum-scale=1" />
	    <meta name="format-detection" content="telephone=no" />
	    
		<title>作业中心-我的题库</title>
		<link rel="stylesheet" href="../css/reset.css" charset="utf-8"/>
		<link rel="stylesheet" type="text/css" href="../css/public.css"/>
   		<link rel="stylesheet" href="../common/dropzone/dropzone.min.css">
<!--		<link rel="stylesheet" href="../css/tanceng.css" />-->
		<link rel="stylesheet" href="../css/tsakCenter.css" charset="utf-8"/>
		<link rel="stylesheet" href="../common/zTree/css/demo.css" type="text/css">
		<link rel="stylesheet" href="../common/zTree/css/zTreeStyle/zTreeStyle.css" type="text/css">
		
		<script src="../common/js/jquery-1.11.2.min.js" type="text/javascript" charset="utf-8"></script>
		<script src="../common/Highcharts/js/highcharts.js"></script>
		<script src="../js/head_left.js" type="text/javascript" charset="utf-8"></script>
		<script src="../common/dropzone/dropzone.min.js"></script>
		<script src="../common/js/jquery.raty.min.js" type="text/javascript" charset="utf-8"></script>
		<script src="../js/tsakCenter.js" type="text/javascript" charset="utf-8"></script>
		
		<!-- 文本编辑 -->
		<script src="../common/ueditor/ueditor.config.js"></script>
	    <script src="../common/ueditor/ueditor.all.min.js"></script>
	    
	    <!--语言-->
	    <script src="../common/ueditor/lang/zh-cn/zh-cn.js"></script>
	    
	    <!-- 数学公式 -->
	    <script  src="../common/ueditor/kityformula-plugin/addKityFormulaDialog.js"></script>
		<script  src="../common/ueditor/kityformula-plugin/getKfContent.js"></script>
		<script  src="../common/ueditor/kityformula-plugin/defaultFilterFix.js"></script>
		
		<script>
			//
			$(function (){
				
				$('.Yeditor').each(function (index,ele){
					$(this).attr('id','Yedit' + index);
					UE.getEditor($(this).attr('id'));
				});
				
			});
		</script>
	   
	</head>
	<body>
		<!-- 头部 -->
		<div  class="header clearfix"></div>
		<div class="main clearfix">
			<!-- 左侧 -->
			<!--<div class="left fl"></div>-->
			<!-- 右侧 -->
			<div class="main_right" style="width: 98%; margin: 0 auto;">
				<ul class="list_tit clearfix">
					<li><a href="taskCenter_list_new.html">作业列表</a></li>
					<li><a href="my_question.html" class="list_tit_active">我的题库</a></li>
					<li><a href="public_question.html">公共题库</a></li>
					<!--<li><a href="taskCenter_test.html">课堂测试</a></li>-->
				</ul>
				
				<div class="Ymain clearfix">
					<div class="Ymain_left fl">
						<div class="Ytit clearfix">
							<span class="fl">批量导入</span>
							<p class="fr">
								<em class="Yre_import">重新导入</em>
								&nbsp;&nbsp;|&nbsp;&nbsp;
								<em class="Yuse_tutorial">使用教程</em>
							</p>
						</div>
						<div class="Ymain_text">
							<h3 class="Yimport_tit">勾股定理练习题</h3>
							<div class="Yimport_text">
								<span>1. 已知a、b、c是三角形的三边长，如果满足 则三角形的形状是（ </span>
1. 已知a、b、c是三角形的三边长，如果满足 则三角形的形状是（ 
<span>1. 已知a、b、c是三角形的三边长，如果满足 则三角形的形状是（ </span>
1. 已知a、b、c是三角形的三边长，如果满足 则三角形的形状是（ 
1. 已知a、b、c是三角形的三边长，如果满足 则<em>1. 已知a、b、c是三角形的三边长，如果满足 则三角形的形状是（ </em>三角形的形状是（ 
1. 已知a、b、c是三角形的三边长，如果满足 则<p>1. 已知a、b、c是三角形的三边长，如果满足 则三角形的形状是（ </p>三角形的形状是（ 
1. 已知a、b<span>1. 已知a、b、c是三角形的三边长，如果满足 则三角形的形状是（ </span>、c是三角形<span>1. 已知a、b、c是三角形的三边长，如果满足 则三角形的形状是（ </span>的三边长，如果满足 则三角形的形状是（ 
1. 已知a、b、c是三角形的三边长，如<span>1. 已知a、b、c是三角形的三边长，如果满足 则三角形的形状是（ </span>果满足 则三角形的形状是（ 
1. 已知a<span>1. 已知a、b、c是三角形的三边长，如果满足 则三角形的形状是（ </span>、b、c是三角形的三边长，如果满足 则三角形的形状是（ 
1. 已知a、b、c是三角形的三<b>1. 已知a、b、c是三角形的三边长，如果满足 则三角形的形状是（ </b>边长，如果满足 则三角形的形状是（ 
1. 已知a、b、c是三角形的三边长，如果满足 则<span>1. 已知a、b、c是三角形的三边长，如果满足 则三角形的形状是（ </span>三角形的形状是（ 
1. 已知a、b、c是三角形<span>1. 已知a、b、c是三角形的三边长，如果满足 则三角形的形状是（ </span>的三边长，<span>1. 已知a、b、c是三角形的三边长，如果满足 则三角形的形状是（ </span>如果满足 则三角形的形状是（ 
1. 已知a、b、c是三角形的三边长，如果满足 则三角形的形状是（ 
1. 已知a、b、c是三角形的三边长，如果满足 则三角形的形状是（ 
							</div>
							<div class="Ymove" style="display: none;">
								<ul class="Yfrom clearfix">
									<li class="Ystem_btn">题干</li>
									<li class="Yoption_btn">
										选项
										<span>
											<i>D</i>
											<i>C</i>
											<i>B</i>
											<i>A</i>
										</span>
									</li>
									<li class="Yanswer_btn">答案</li>
									<li class="Yanalysis_btn">解析</li>
								</ul>
								<ul class="Yquestions clearfix">
									<li class="Ytype_radio active" data-type="Ytype_radio">单选</li>
									<li class="Ytype_check" data-type="Ytype_check">多选</li>
									<li class="Ytype_simple" data-type="Ytype_simple">简答</li>
								</ul>
							</div>
						</div>
					</div>
					<div class="Ymain_right fr">
						<ul class="Yprev_information clearfix">
							<li>
								<em>年级：</em>
								<span>十二年级</span>
							</li>
							<li>
								<em>学科：</em>
								<span>高等数学</span>
							</li>
							<li>
								<em>章节：</em>
								<span>第八十八章</span>
							</li>
							<li>
								<em>节点：</em>
								<span>三只小熊和天线宝宝</span>
							</li>
						</ul>
						<div class="Ytest_cases">
							<div class="Ytest_cases_scoll">
								<!--单选-->
								<div class="Yborder" style="display: none;">
									<div class="Yradio">
										<span class="Yheadline">单选</span>
										<!--Ytype 共用类名 之后的每个题型可复用  Yradio_topic js类名 不可复用-->
										<div class="Ytype Yradio_topic" style="display: none;">
											<ul>
												<li class="Ystem">
													<em class="Yorder">1</em>
													<p>已知a、b、c是三角形的三边长，如果满足 则三角形的形状已知a、b、c是三角形的三边长，如果满足 则三角形的形状是（ </p>
													<!--Yeditor 共用类名 / Yedit_stem 题干共用类名  / Yedit_option 单选选项共用类名 / Yedit_Yanalysis 解析共用类名-->
						    						<div class="Yeditor Yedit_stem" id=""></div>
												</li>
												<li class="Yoption">
													<em>选项</em>
													<ol>
														<li>
															<b>A：</b>
															<p>是三角形的三边长，如果满足 则三角形的形状已知是三角形的三边长，如果满足 则三角形的形状已知是三角形的三边长，如果满足 则三角形的形状已知是三角形的三边长，如果满足 则三角形的形状已知a</p>
						    								<div class="Yeditor Yedit_option" id=""></div>
														</li>
														<li>
															<b>B：</b>
															<p>是三角形的三边长，如果满足 则三角形的形状已知a</p>
						    								<div class="Yeditor Yedit_option" id=""></div>
														</li>
														<li>
															<b>C：</b>
															<p>是三角形的三边长，如果满足 则三角形的形状已知a</p>
						    								<div class="Yeditor Yedit_option" id=""></div>
														</li>
														<li>
															<b>D：</b>
															<p>是三角形的三边长，如果满足 则三角形的形状已知a</p>
						    								<div class="Yeditor Yedit_option" id=""></div>
														</li>
													</ol>
												</li>
												<li class="Yanswer">
													<em>答案</em>
													<p>
														<span>
															<input type="radio" name="Yradio" id="" value="" disabled />
															<label for="">A</label>
														</span>
														<span>
															<input type="radio" name="Yradio" id="" value="" disabled />
															<label for="">B</label>
														</span>
														<span>
															<input type="radio" name="Yradio" id="" value="" disabled />
															<label for="">C</label>
														</span>
														<span>
															<input type="radio" name="Yradio" id="" value="" disabled />
															<label for="">D</label>
														</span>
													</p>
												</li>
												<li class="Yanalysis">
													<em>解析</em>
													<p>已知a、b、c是三角形的三边长，如果满足 则三角形的形状已知a、b、c是三角形的三边长，如果满足 则三角形的形状是（ </p>
													<div class="Yeditor Yedit_Yanalysis" id=""></div>
												</li>
											</ul>
											<span class="Ymore_operation">
												<img src="../img/Yedit.png" class="Yedit"/>
												<img src="../img/Ydelete.png" class="Ydelete"/>
											</span>
											<strong class="Yedit_over">结束编辑</strong>
										</div>
									</div>
								</div>
							</div>
							
							<input type="button" name="" id="" value="保存" class="Ysave" />
						</div>
					</div>
				</div>
			
			</div>		
		</div>
		
		<!--保存试题弹框-->
		<!--YsaveBox css用的类名 可共用    YtestBox js用的类名 不可共用-->
		<div class="YsaveBox YtestBox" style="display: none;">
			<div class="hide"></div>
			<div class="con">
				<img class="Ytextclose" src="../img/guanbi.png"/>
				<div class="Ypaper_title">
					<b class="Yspot"></b>
					<em>试卷标题：</em>
					<p class="Yedit_tit">
						<input type="text" name="" id="" value="" />
						<img src="../img/Ytit_close.png"/>
					</p>
				</div>
				<div class="Yscore_setting">
					<b class="Yspot"></b>
					<em>分数设置：</em>
					<ul>
						<li>
							选择题（共3题）
							<br />
							<input type="text" name="" id="" value="" />
							分/题
							<i>*请输入符合规则的数字</i>
						</li>
						<li>
							判断题（共3题）
							<br />
							<input type="text" name="" id="" value="" />
							分/题
							<i>*请输入符合规则的数字</i>
						</li>
						<li>
							解答题（共3题）
							<br />
							<input type="text" name="" id="" value="" />
							分/题
							<i>*请输入符合规则的数字</i>
						</li>
					</ul>
				</div>
				<div class="Ytotal_score">
					总分：
					<span>88分</span>
				</div>
				<div class="Ytips">注：不填写试卷标题直接保存，会批量保存成单个试题</div>
				<div class="Ytextbtn">
					<span class="Ysure">确定</span>
					<span class="Ycancel">取消</span>
				</div>
			</div>
		</div>
		
		<!--导入试题弹框-->
		<!--import_bombB js类名 不可复用-->
		<div class="import_bomb import_bombB">
			<div class="hide"></div>
			<div class="test_import">
				<div class="">
					<img class="import_close" src="../img/guanbi.png"/>
					<span class="import_tit">导入试题</span>
				</div>
				<div class="import_screen clearfix">
					<i>*</i>
					<select>
    					<option>第一节</option>
    					<option>一年级</option>
    					<option>一年级</option>
    				</select>
    				<i>*</i>
					<select>
    					<option>第一节</option>
    					<option>一年级</option>
    					<option>一年级</option>
    				</select>
    				<i>*</i>
    				<select>
    					<option>第一节</option>
    					<option>一年级</option>
    					<option>一年级</option>
    				</select>
    				<select>
    					<option>第一节</option>
    					<option>一年级</option>
    					<option>一年级</option>
    				</select>
				</div>
				<div class="import_upload">
					<p>试题导入</p>
					<div id="drag_import" class="drag_import">浏览文件或把文件拖拽到这里</div>
				</div>
				<div class="import_btn">
					<span>确定</span>
					<span>取消</span>
				</div>
			</div>
		</div>
	
	
		<!--使用教程弹框-->
		<!--Yuse_tutorial_box js类名 不可复用-->
		<div class="import_bomb Yuse_tutorial_box" style="display: none;">
			<div class="hide"></div>
			<div class="Yuse_det">
				<img src="../img/close_t.png" class="Yuse_close"/>
				<img src="../img/left.png" class="Yuse_prev"/>
				<img src="../img/right.png" class="Yuse_next"/>
				<img src="../img/Ystep1.png" class="Yuse_main_pic"/>
			</div>
		
		</div>
	
		<script>
			var Ytxt = '';
			select($('.Yimport_text').get(0),tanchu); 
			function select(o, fn) {
				o.onmouseup = function(e) {
					var event = window.event || e;
//					event.cancelBubble = true;
			//		event.stopPropagation();
					var target = event.srcElement ? event.srcElement : event.target;
					if(/input|textarea/i.test(target.tagName) && /firefox/i.test(navigator.userAgent)) {
						//Firefox在文本框内选择文字 
						var staIndex = target.selectionStart;
						var endIndex = target.selectionEnd;
						if(staIndex != endIndex) {
							var sText = target.value.substring(staIndex, endIndex);
							Ytxt = fn(sText, target, event);
						}
					} else {
						//获取选中文字 
						var sText = document.selection == undefined ? document.getSelection().toString() : document.selection.createRange().text;
						console.log(sText)
						if(sText != "") {
							//将参数传入回调函数fn 
							Ytxt = fn(sText, target, event);
						}
					}
					return false;
				}
				o.onmousedown = function (){
//					event.cancelBubble = true;
					$('.Ymove').hide();
					$('.Yoption_btn span').hide();
					$('.Yquestions li').first().addClass('active').siblings('li').hide();
				};
			}
			function tanchu(txt,tar,ev){ 
				console.log("文字属于"+tar.tagName+"元素，选中内容为："+txt); 	
				if(tar){
					var Yleft = (ev.clientX - 100) < 40 ? 40 : ev.clientX - 100;
					$('.Ymove').show().css({'left':Yleft,'top':ev.clientY - 60});
				}
				var start = $(tar).html().indexOf(txt)
				var end = txt.length+start;
//				console.log($(tar).html().indexOf(txt));
//				console.log(txt.length);
			/*	console.log($(tar).html().substring(start,end));
				console.log($(tar).html().substring(0,start))
				var prevStr = $(tar).html().substring(0,start)
				var nextStr = $(tar).html().substring(end)
				console.log($(tar).html().substring(end));
				var newStr = prevStr+dd+nextStr
				$(tar).html(newStr)*/
			/*	var aa = $(txt);
				var bb = $('<p>'+ txt +'</p>');
				bb.wrap('<p></p>');
				console.log(bb)
				bb.insertBefore(txt)*/
				
				var dd = txt.replace(txt,'<span>'+ txt +'</span>');
				console.log(dd)
				
				return dd;
			} 
			//题干
				var YCreatRadio = '<div class="Ytype Yradio_topic"><ul><li class="Ystem"><em class="Yorder">1</em><p> </p><div class="Yeditor Yedit_stem" id=""></div></li><li class="Yoption"><em>选项</em><ol><li><b>A：</b><p> </p><div class="Yeditor Yedit_option" id=""></div></li><li><b>B：</b><p> </p><div class="Yeditor Yedit_option" id=""></div></li><li><b>C：</b><p> </p><div class="Yeditor Yedit_option" id=""></div></li><li><b>D：</b><p> </p><div class="Yeditor Yedit_option" id=""></div></li></ol></li><li class="Yanswer"><em>答案</em><p><span><input type="radio" name="Yradio" id="" value="" disabled /><label for="">A</label></span><span><input type="radio" name="Yradio" id="" value="" disabled /><label for="">B</label></span><span><input type="radio" name="Yradio" id="" value="" disabled /><label for="">C</label></span><span><input type="radio" name="Yradio" id="" value="" disabled /><label for="">D</label></span></p></li><li class="Yanalysis"><em>解析</em><p> </p><div class="Yeditor Yedit_Yanalysis" id=""></div></li></ul><span class="Ymore_operation"><img src="../img/Yedit.png" class="Yedit"/><img src="../img/Ydelete.png" class="Ydelete"/></span><strong class="Yedit_over">结束编辑</strong></div>';
				$('.Ymain_text').on('click','.Ystem_btn',function (){
					var Yclass = $('.Yquestions li:first-child').attr('data-type');
					switch (Yclass){
						//单选
						case 'Ytype_radio':
							if( ! $('.Yradio .Ytype').hasClass('active')){
								$('.Yradio').append(YCreatRadio);
								$('.Ytype').find('.Yorder').removeClass('active');
								$('.Ytype').last().find('.Yorder').addClass('active');
								$('.Yradio .Ytype').each(function (i,ele){
									$(this).find('.Yorder').text(i);
								});
								$('.Ytype .Yorder.active + p').text(Ytxt);
							}else{
								$('.Ytype.active .Yorder.active+p').text(Ytxt);
							}
							$('.Yborder').show();
							$('.Yeditor').each(function (index,ele){
								$(this).attr('id',Yclass + index);
								UE.getEditor($(this).attr('id'));
							});
							break;
						//多选
						case 'Ytype_check':
							
							break;
						//简答
						case 'Ytype_simple':
							
							break;
						default:
							break;
					}
//					$('.Yborder').show();
//					$('.Yheadline').text($('.Yquestions li:first-child').text());
//					$('.Ytype .Yorder.activeYtype+p').text(Ytxt);
				});
				
				//单选选项
				$('.Ymain_text').on('click','.Yoption_btn',function (){
					if( ! $('.Yorder').hasClass('active')){
						alert();
					}
				});
				
				//单选ABCD答案
				$('.Ymain_text').on('click','.Yoption_btn span i',function (){
					var Ychoose = $(this).text();
					$('.Yorder.active').parent().siblings('.Yoption').find('ol li b').each(function (i,ele){
						if($(this).text().substring(0,1) == Ychoose){
							$(this).siblings('p').text(Ytxt);
						}
					});
				});
				
				
				//单选解析
				$('.Ymain_text').on('click','.Yanalysis_btn',function (){
					if( ! $('.Yorder').hasClass('active')){
						alert();
					}else{
						$('.Yorder.active').parent().siblings('.Yanalysis').find('p').text(Ytxt);
					}
				});
				
				//
				$(document).on('click',function (e){
//					console.log(e.target.className);
					if(e.target.className != 'Yimport_text'){
						$('.Ymove').hide();
					}
				});
		</script>
	</body>


</html>
